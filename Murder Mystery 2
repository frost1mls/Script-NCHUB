-- NCHUB - Sua Biblioteca Personaliz√°vel (com tela de carregamento premium)
-- Top bar com tudo, conte√∫do livre embaixo

-- ============================================
-- TELA DE CARREGAMENTO PREMIUM (S√ì ISSO FOI ADICIONADO)
-- ============================================
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local LP = Players.LocalPlayer

-- Criar tela de carregamento tempor√°ria
local loadingScreen = Instance.new("ScreenGui")
loadingScreen.Name = "LoadingScreen"
loadingScreen.Parent = LP:WaitForChild("PlayerGui")
loadingScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
loadingScreen.DisplayOrder = 999

local loadingFrame = Instance.new("Frame")
loadingFrame.Name = "Loading"
loadingFrame.Size = UDim2.new(0, 400, 0, 200)
loadingFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
loadingFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
loadingFrame.BackgroundTransparency = 0.1
loadingFrame.BorderSizePixel = 0
loadingFrame.Parent = loadingScreen

local loadingCorner = Instance.new("UICorner")
loadingCorner.CornerRadius = UDim.new(0, 20)
loadingCorner.Parent = loadingFrame

local loadingGlow = Instance.new("ImageLabel")
loadingGlow.Size = UDim2.new(1, 20, 1, 20)
loadingGlow.Position = UDim2.new(0, -10, 0, -10)
loadingGlow.BackgroundTransparency = 1
loadingGlow.Image = "rbxassetid://6014261993"
loadingGlow.ImageColor3 = Color3.fromRGB(100, 150, 255)
loadingGlow.ImageTransparency = 0.7
loadingGlow.ScaleType = Enum.ScaleType.Slice
loadingGlow.SliceCenter = Rect.new(49, 49, 450, 450)
loadingGlow.Parent = loadingFrame

local loadingTitle = Instance.new("TextLabel")
loadingTitle.Size = UDim2.new(1, 0, 0, 50)
loadingTitle.Position = UDim2.new(0, 0, 0, 30)
loadingTitle.BackgroundTransparency = 1
loadingTitle.Text = "NCHUB"
loadingTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingTitle.Font = Enum.Font.GothamBold
loadingTitle.TextSize = 36
loadingTitle.Parent = loadingFrame

local loadingSubtitle = Instance.new("TextLabel")
loadingSubtitle.Size = UDim2.new(1, 0, 0, 30)
loadingSubtitle.Position = UDim2.new(0, 0, 0, 80)
loadingSubtitle.BackgroundTransparency = 1
loadingSubtitle.Text = "Carregando recursos..."
loadingSubtitle.TextColor3 = Color3.fromRGB(150, 150, 150)
loadingSubtitle.Font = Enum.Font.Gotham
loadingSubtitle.TextSize = 16
loadingSubtitle.Parent = loadingFrame

local loadingBar = Instance.new("Frame")
loadingBar.Size = UDim2.new(0, 300, 0, 4)
loadingBar.Position = UDim2.new(0.5, -150, 0, 140)
loadingBar.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
loadingBar.BorderSizePixel = 0
loadingBar.Parent = loadingFrame

local loadingBarCorner = Instance.new("UICorner")
loadingBarCorner.CornerRadius = UDim.new(1, 0)
loadingBarCorner.Parent = loadingBar

local loadingProgress = Instance.new("Frame")
loadingProgress.Size = UDim2.new(0, 0, 1, 0)
loadingProgress.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
loadingProgress.BorderSizePixel = 0
loadingProgress.Parent = loadingBar

local loadingProgressCorner = Instance.new("UICorner")
loadingProgressCorner.CornerRadius = UDim.new(1, 0)
loadingProgressCorner.Parent = loadingProgress

-- Anima√ß√£o de carregamento
for i = 1, 100 do
    TweenService:Create(loadingProgress, TweenInfo.new(0.02), {Size = UDim2.new(i/100, 0, 1, 0)}):Play()
    task.wait(0.02)
end

task.wait(0.5)

-- ============================================
-- SEU GUI ORIGINAL (COMPLETAMENTE PRESERVADO)
-- ============================================

-- Criar tela principal
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NCHUB"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Fechar tela de carregamento
loadingScreen:Destroy()

-- GUI Principal
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 420, 0, 340) -- Tamanho normal
mainFrame.Position = UDim2.new(0.5, -210, 0.5, -170)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 28)
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 16)
mainCorner.Parent = mainFrame

-- TOP BAR
local topBar = Instance.new("Frame")
topBar.Name = "TopBar"
topBar.Size = UDim2.new(1, 0, 0, 45)
topBar.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame

local topBarCorner = Instance.new("UICorner")
topBarCorner.CornerRadius = UDim.new(0, 16)
topBarCorner.Parent = topBar

-- Nome do Hub
local hubName = Instance.new("TextLabel")
hubName.Size = UDim2.new(0, 120, 1, 0)
hubName.Position = UDim2.new(0, 12, 0, 0)
hubName.BackgroundTransparency = 1
hubName.Text = "NCHUB"
hubName.TextColor3 = Color3.fromRGB(255, 255, 255)
hubName.Font = Enum.Font.GothamBold
hubName.TextSize = 18
hubName.TextXAlignment = Enum.TextXAlignment.Left
hubName.Parent = topBar

-- Container dos bot√µes
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(0, 120, 1, 0)
buttonContainer.Position = UDim2.new(1, -130, 0, 0)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = topBar

-- Bot√£o Config
local configBtn = Instance.new("TextButton")
configBtn.Size = UDim2.new(0, 30, 1, 0)
configBtn.Position = UDim2.new(0, 0, 0, 0)
configBtn.BackgroundTransparency = 1
configBtn.Text = "‚öôÔ∏è"
configBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
configBtn.TextSize = 20
configBtn.Font = Enum.Font.Gotham
configBtn.Parent = buttonContainer

-- Bot√£o Minimizar/Maximizar
local minMaxBtn = Instance.new("TextButton")
minMaxBtn.Size = UDim2.new(0, 30, 1, 0)
minMaxBtn.Position = UDim2.new(0, 30, 0, 0)
minMaxBtn.BackgroundTransparency = 1
minMaxBtn.Text = "‚àí"
minMaxBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
minMaxBtn.TextSize = 24
minMaxBtn.Font = Enum.Font.GothamBold
minMaxBtn.Parent = buttonContainer

-- Bot√£o Fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 1, 0)
closeBtn.Position = UDim2.new(0, 60, 0, 0)
closeBtn.BackgroundTransparency = 1
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
closeBtn.TextSize = 18
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = buttonContainer

-- Bot√£o Ajuda
local helpBtn = Instance.new("TextButton")
helpBtn.Size = UDim2.new(0, 30, 1, 0)
helpBtn.Position = UDim2.new(0, 90, 0, 0)
helpBtn.BackgroundTransparency = 1
helpBtn.Text = "?"
helpBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
helpBtn.TextSize = 20
helpBtn.Font = Enum.Font.GothamBold
helpBtn.Parent = buttonContainer

-- √Årea de Conte√∫do
local contentArea = Instance.new("ScrollingFrame")
contentArea.Name = "ContentArea"
contentArea.Size = UDim2.new(1, -20, 1, -60)
contentArea.Position = UDim2.new(0, 10, 0, 55)
contentArea.BackgroundTransparency = 1
contentArea.BorderSizePixel = 0
contentArea.ScrollBarThickness = 4
contentArea.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
contentArea.CanvasSize = UDim2.new(0, 0, 0, 150)
contentArea.Parent = mainFrame

-- Dragging
local dragging = false
local dragStart
local startPos

topBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

topBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging then
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end
end)

-- Fechar
closeBtn.MouseButton1Click:Connect(function() screenGui:Destroy() end)
closeBtn.TouchTap:Connect(function() screenGui:Destroy() end)

-- Minimizar/Maximizar (reduz o GUI todo)
local minimized = false
local originalSize = mainFrame.Size
local minimizedSize = UDim2.new(0, 420, 0, 45) -- S√≥ top bar vis√≠vel

minMaxBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame:TweenSize(minimizedSize, "Out", "Quad", 0.2, true)
        minMaxBtn.Text = "+"
        contentArea.Visible = false
    else
        mainFrame:TweenSize(originalSize, "Out", "Quad", 0.2, true)
        minMaxBtn.Text = "‚àí"
        contentArea.Visible = true
    end
end)

-- Config e Ajuda
configBtn.MouseButton1Click:Connect(function()
    print("Abrir configura√ß√µes")
end)

helpBtn.MouseButton1Click:Connect(function()
    print("Ajuda - NCHUB v1.0")
end)

-- ============================================
-- ABA FARM (SEU SCRIPT INTEGRADO)
-- ============================================
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LP = Players.LocalPlayer
local isFarming = false
local Char = LP.Character or LP.CharacterAdded:Wait()
local HRP = Char:WaitForChild("HumanoidRootPart")
local Humanoid = Char:WaitForChild("Humanoid")

-- Criar aba Farm
local farmTab = Instance.new("Frame")
farmTab.Name = "FarmTab"
farmTab.Size = UDim2.new(1, -20, 0, 120)
farmTab.Position = UDim2.new(0, 10, 0, 10)
farmTab.BackgroundColor3 = Color3.fromRGB(30, 30, 38)
farmTab.BackgroundTransparency = 0.3
farmTab.BorderSizePixel = 0
farmTab.Parent = contentArea

local farmTabCorner = Instance.new("UICorner")
farmTabCorner.CornerRadius = UDim.new(0, 12)
farmTabCorner.Parent = farmTab

-- T√≠tulo da aba
local farmTitle = Instance.new("TextLabel")
farmTitle.Size = UDim2.new(1, -20, 0, 30)
farmTitle.Position = UDim2.new(0, 10, 0, 10)
farmTitle.BackgroundTransparency = 1
farmTitle.Text = "üåæ FARM AFK"
farmTitle.TextColor3 = Color3.fromRGB(200, 200, 255)
farmTitle.Font = Enum.Font.GothamBold
farmTitle.TextSize = 18
farmTitle.TextXAlignment = Enum.TextXAlignment.Left
farmTitle.Parent = farmTab

-- Bot√£o Farm AFK
local farmButton = Instance.new("TextButton")
farmButton.Name = "FarmButton"
farmButton.Size = UDim2.new(0, 150, 0, 40)
farmButton.Position = UDim2.new(0.5, -75, 0, 50)
farmButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
farmButton.Text = "FARM AFK: OFF"
farmButton.TextColor3 = Color3.fromRGB(255, 255, 255)
farmButton.Font = Enum.Font.GothamBold
farmButton.TextSize = 16
farmButton.Parent = farmTab

local farmButtonCorner = Instance.new("UICorner")
farmButtonCorner.CornerRadius = UDim.new(0, 8)
farmButtonCorner.Parent = farmButton

-- Status do Farm
local farmStatus = Instance.new("TextLabel")
farmStatus.Size = UDim2.new(1, -20, 0, 25)
farmStatus.Position = UDim2.new(0, 10, 0, 95)
farmStatus.BackgroundTransparency = 1
farmStatus.Text = "‚è∏Ô∏è Parado"
farmStatus.TextColor3 = Color3.fromRGB(150, 150, 150)
farmStatus.Font = Enum.Font.Gotham
farmStatus.TextSize = 14
farmStatus.TextXAlignment = Enum.TextXAlignment.Left
farmStatus.Parent = farmTab

-- Fun√ß√µes do Farm
local function encontrarMoedaMaisProxima()
    local mapa = nil
    for _, obj in ipairs(workspace:GetChildren()) do
        if obj:FindFirstChild("CoinContainer") or obj:FindFirstChild("Coins") then
            mapa = obj
            break
        end
    end
    
    if not mapa then return nil end
    
    local container = mapa:FindFirstChild("CoinContainer") or mapa:FindFirstChild("Coins")
    if not container then return nil end
    
    local moedaMaisProxima = nil
    local menorDistancia = math.huge
    
    for _, moeda in ipairs(container:GetChildren()) do
        local visual = moeda:FindFirstChild("CoinVisual")
        if visual and not visual:GetAttribute("Collected") then
            local distancia = (HRP.Position - moeda.Position).Magnitude
            if distancia < menorDistancia then
                moedaMaisProxima = moeda
                menorDistancia = distancia
            end
        end
    end
    
    return moedaMaisProxima
end

local function irAteMoeda(moeda)
    if not moeda or not HRP or not Humanoid then return false end
    
    Humanoid:ChangeState(Enum.HumanoidStateType.Physics)
    
    local distancia = (HRP.Position - moeda.Position).Magnitude
    local tempoViagem = distancia / 30
    
    local tween = TweenService:Create(
        HRP, 
        TweenInfo.new(tempoViagem, Enum.EasingStyle.Linear),
        {CFrame = moeda.CFrame}
    )
    
    tween:Play()
    tween.Completed:Wait()
    
    Humanoid:ChangeState(Enum.HumanoidStateType.Running)
    return true
end

local function atualizarBotaoFarm()
    if isFarming then
        farmButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
        farmButton.Text = "FARM AFK: ON"
        farmStatus.Text = "‚ñ∂Ô∏è Coletando moedas..."
        farmStatus.TextColor3 = Color3.fromRGB(100, 255, 100)
    else
        farmButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        farmButton.Text = "FARM AFK: OFF"
        farmStatus.Text = "‚è∏Ô∏è Parado"
        farmStatus.TextColor3 = Color3.fromRGB(150, 150, 150)
    end
end

-- Clique no bot√£o Farm
farmButton.MouseButton1Click:Connect(function()
    isFarming = not isFarming
    atualizarBotaoFarm()
end)

-- Loop principal do Farm
spawn(function()
    while true do
        if isFarming then
            if LP.Character and LP.Character:FindFirstChild("Humanoid") and LP.Character.Humanoid.Health > 0 then
                local moeda = encontrarMoedaMaisProxima()
                
                if moeda then
                    local sucesso = irAteMoeda(moeda)
                    
                    if sucesso then
                        local visual = moeda:FindFirstChild("CoinVisual")
                        if visual then
                            repeat
                                task.wait(0.1)
                            until not visual.Parent or visual:GetAttribute("Collected")
                        end
                    end
                else
                    farmStatus.Text = "‚è≥ Procurando moedas..."
                    task.wait(0.5)
                end
            else
                farmStatus.Text = "üíÄ Morto - Aguardando respawn..."
                task.wait(1)
            end
        else
            task.wait(0.1)
        end
    end
end)

-- Atualiza quando o personagem renasce
LP.CharacterAdded:Connect(function(novoChar)
    Char = novoChar
    HRP = Char:WaitForChild("HumanoidRootPart")
    Humanoid = Char:WaitForChild("Humanoid")
end)

-- ============================================
-- ABA ESP BETA (SEU SCRIPT INTEGRADO)
-- ============================================

-- Cores do ESP
local CORES_ESP = {
    Murder = Color3.fromRGB(255, 0, 0),
    Sheriff = Color3.fromRGB(0, 150, 255),
    Innocent = Color3.fromRGB(0, 255, 0),
    GunDrop = Color3.fromRGB(255, 255, 0)
}

-- Criar aba ESP
local espTab = Instance.new("Frame")
espTab.Name = "ESPTab"
espTab.Size = UDim2.new(1, -20, 0, 200)
espTab.Position = UDim2.new(0, 10, 0, 140)
espTab.BackgroundColor3 = Color3.fromRGB(30, 30, 38)
espTab.BackgroundTransparency = 0.3
espTab.BorderSizePixel = 0
espTab.Parent = contentArea

local espTabCorner = Instance.new("UICorner")
espTabCorner.CornerRadius = UDim.new(0, 12)
espTabCorner.Parent = espTab

-- T√≠tulo da aba ESP com badge BETA
local espTitle = Instance.new("TextLabel")
espTitle.Size = UDim2.new(0, 100, 0, 30)
espTitle.Position = UDim2.new(0, 10, 0, 10)
espTitle.BackgroundTransparency = 1
espTitle.Text = "üëÅÔ∏è ESP"
espTitle.TextColor3 = Color3.fromRGB(200, 200, 255)
espTitle.Font = Enum.Font.GothamBold
espTitle.TextSize = 18
espTitle.TextXAlignment = Enum.TextXAlignment.Left
espTitle.Parent = espTab

local betaBadge = Instance.new("Frame")
betaBadge.Size = UDim2.new(0, 50, 0, 20)
betaBadge.Position = UDim2.new(0, 70, 0, 12)
betaBadge.BackgroundColor3 = Color3.fromRGB(255, 200, 75)
betaBadge.BackgroundTransparency = 0.2
betaBadge.BorderSizePixel = 0
betaBadge.Parent = espTab

local betaCorner = Instance.new("UICorner")
betaCorner.CornerRadius = UDim.new(0, 6)
betaCorner.Parent = betaBadge

local betaText = Instance.new("TextLabel")
betaText.Size = UDim2.new(1, 0, 1, 0)
betaText.BackgroundTransparency = 1
betaText.Text = "BETA"
betaText.TextColor3 = Color3.fromRGB(20, 20, 28)
betaText.Font = Enum.Font.GothamBold
betaText.TextSize = 12
betaText.Parent = betaBadge

-- Estados do ESP
local espStates = {murder = false, sheriff = false, innocent = false, gun = false}

-- Fun√ß√£o para criar toggles
local function criarToggleESP(y, texto, cor, stateKey)
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = UDim2.new(0.9, 0, 0, 30)
    toggleFrame.Position = UDim2.new(0.05, 0, 0, y)
    toggleFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    toggleFrame.BackgroundTransparency = 0.3
    toggleFrame.BorderSizePixel = 0
    toggleFrame.Parent = espTab
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(0, 6)
    toggleCorner.Parent = toggleFrame
    
    local toggleLabel = Instance.new("TextLabel")
    toggleLabel.Size = UDim2.new(0, 100, 1, 0)
    toggleLabel.Position = UDim2.new(0, 10, 0, 0)
    toggleLabel.BackgroundTransparency = 1
    toggleLabel.Text = texto
    toggleLabel.TextColor3 = cor
    toggleLabel.Font = Enum.Font.GothamBold
    toggleLabel.TextSize = 14
    toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    toggleLabel.Parent = toggleFrame
    
    local toggleBtn = Instance.new("TextButton")
    toggleBtn.Size = UDim2.new(0, 50, 0, 22)
    toggleBtn.Position = UDim2.new(1, -60, 0.5, -11)
    toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
    toggleBtn.Text = "OFF"
    toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleBtn.Font = Enum.Font.GothamBold
    toggleBtn.TextSize = 12
    toggleBtn.Parent = toggleFrame
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 4)
    btnCorner.Parent = toggleBtn
    
    toggleBtn.MouseButton1Click:Connect(function()
        espStates[stateKey] = not espStates[stateKey]
        if espStates[stateKey] then
            toggleBtn.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
            toggleBtn.Text = "ON"
        else
            toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
            toggleBtn.Text = "OFF"
        end
    end)
end

criarToggleESP(45, "MURDER", CORES_ESP.Murder, "murder")
criarToggleESP(80, "XERIFE", CORES_ESP.Sheriff, "sheriff")
criarToggleESP(115, "INOCENTE", CORES_ESP.Innocent, "innocent")
criarToggleESP(150, "ARMA DROPADA", CORES_ESP.GunDrop, "gun")

-- Fun√ß√µes do ESP
local function getRole(player)
    local char = player.Character
    local bp = player:FindFirstChild("Backpack")
    
    local function hasItem(container, names)
        if not container then return false end
        for _, item in pairs(container:GetChildren()) do
            if item:IsA("Tool") then
                local n = item.Name:lower()
                for _, name in pairs(names) do
                    if n:find(name) then return true end
                end
            end
        end
        return false
    end

    if hasItem(char, {"knife", "faca"}) or hasItem(bp, {"knife", "faca"}) then return "Murder" end
    if hasItem(char, {"gun", "pistol", "revolver"}) or hasItem(bp, {"gun", "pistol", "revolver"}) then return "Sheriff" end
    return "Innocent"
end

local function applyHighlight(obj, color, name)
    local h = obj:FindFirstChild(name)
    if not h then
        h = Instance.new("Highlight")
        h.Name = name
        h.OutlineColor = Color3.new(1, 1, 1)
        h.Parent = obj
    end
    h.FillColor = color
    h.FillTransparency = 0.5
end

-- Loop do ESP
spawn(function()
    while true do
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LP and player.Character then
                local role = getRole(player)
                local stateKey = role:lower()
                
                if espStates[stateKey] then
                    applyHighlight(player.Character, CORES_ESP[role], "NCHUB_PlayerESP")
                else
                    local old = player.Character:FindFirstChild("NCHUB_PlayerESP")
                    if old then old:Destroy() end
                end
            end
        end

        if espStates.gun then
            for _, obj in pairs(Workspace:GetDescendants()) do
                if obj:IsA("Tool") and (obj.Name:lower():find("gun") or obj.Name:lower():find("revolver")) then
                    if not obj:FindFirstAncestorOfClass("Model") or not Players:GetPlayerFromCharacter(obj.Parent) then
                        applyHighlight(obj, CORES_ESP.GunDrop, "NCHUB_GunESP")
                    else
                        local old = obj:FindFirstChild("NCHUB_GunESP")
                        if old then old:Destroy() end
                    end
                end
            end
        else
            for _, obj in pairs(Workspace:GetDescendants()) do
                local old = obj:FindFirstChild("NCHUB_GunESP")
                if old then old:Destroy() end
            end
        end
        
        task.wait(0.5)
    end
end)

-- Atualizar canvas size
local function UpdateCanvas()
    local height = 0
    for _, v in pairs(contentArea:GetChildren()) do
        if v:IsA("Frame") then
            height = height + v.Size.Y.Offset + 15
        end
    end
    contentArea.CanvasSize = UDim2.new(0, 0, 0, height + 20)
end

UpdateCanvas()

print("‚úÖ NCHUB carregado com aba FARM e ESP BETA!")
