-- NCHUB - Murder Mystery 2 - Vers√£o Definitiva
-- Tudo funcionando como voc√™ pediu

-- Criar tela
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NCHUB_MM2"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Tela de carregamento
local loadingFrame = Instance.new("Frame")
loadingFrame.Name = "Loading"
loadingFrame.Size = UDim2.new(0, 200, 0, 100)
loadingFrame.Position = UDim2.new(0.5, -100, 0.5, -50)
loadingFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
loadingFrame.BackgroundTransparency = 0.1
loadingFrame.BorderSizePixel = 0
loadingFrame.Parent = screenGui
loadingFrame.ZIndex = 10

local loadingCorner = Instance.new("UICorner")
loadingCorner.CornerRadius = UDim.new(0, 16)
loadingCorner.Parent = loadingFrame

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 0.6, 0)
loadingText.Position = UDim2.new(0, 0, 0, 10)
loadingText.BackgroundTransparency = 1
loadingText.Text = "NCHUB"
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.Font = Enum.Font.GothamBold
loadingText.TextSize = 32
loadingText.Parent = loadingFrame

local loadingSub = Instance.new("TextLabel")
loadingSub.Size = UDim2.new(1, 0, 0.3, 0)
loadingSub.Position = UDim2.new(0, 0, 0.6, -5)
loadingSub.BackgroundTransparency = 1
loadingSub.Text = "Carregando MM2..."
loadingSub.TextColor3 = Color3.fromRGB(180, 180, 180)
loadingSub.Font = Enum.Font.Gotham
loadingSub.TextSize = 16
loadingSub.Parent = loadingFrame

task.wait(2)

loadingFrame:TweenPosition(UDim2.new(0.5, -100, 1.5, 0), "Out", "Quad", 0.5, true)
task.wait(0.5)
loadingFrame:Destroy()

-- GUI Principal
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 500, 0, 400)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 28)
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 16)
mainCorner.Parent = mainFrame

-- TOP BAR
local topBar = Instance.new("Frame")
topBar.Name = "TopBar"
topBar.Size = UDim2.new(1, 0, 0, 45)
topBar.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame

local topBarCorner = Instance.new("UICorner")
topBarCorner.CornerRadius = UDim.new(0, 16)
topBarCorner.Parent = topBar

-- Nome do Hub
local hubName = Instance.new("TextLabel")
hubName.Size = UDim2.new(0, 150, 1, 0)
hubName.Position = UDim2.new(0, 12, 0, 0)
hubName.BackgroundTransparency = 1
hubName.Text = "NCHUB - MM2"
hubName.TextColor3 = Color3.fromRGB(255, 255, 255)
hubName.Font = Enum.Font.GothamBold
hubName.TextSize = 16
hubName.TextXAlignment = Enum.TextXAlignment.Left
hubName.Parent = topBar

-- Container dos bot√µes
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(0, 120, 1, 0)
buttonContainer.Position = UDim2.new(1, -130, 0, 0)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = topBar

-- Bot√£o Minimizar
local minBtn = Instance.new("TextButton")
minBtn.Size = UDim2.new(0, 30, 1, 0)
minBtn.Position = UDim2.new(0, 0, 0, 0)
minBtn.BackgroundTransparency = 1
minBtn.Text = "‚àí"
minBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
minBtn.TextSize = 24
minBtn.Font = Enum.Font.GothamBold
minBtn.Parent = buttonContainer

-- Bot√£o Config
local configBtn = Instance.new("TextButton")
configBtn.Size = UDim2.new(0, 30, 1, 0)
configBtn.Position = UDim2.new(0, 30, 0, 0)
configBtn.BackgroundTransparency = 1
configBtn.Text = "‚öôÔ∏è"
configBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
configBtn.TextSize = 20
configBtn.Font = Enum.Font.Gotham
configBtn.Parent = buttonContainer

-- Bot√£o Fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 1, 0)
closeBtn.Position = UDim2.new(0, 60, 0, 0)
closeBtn.BackgroundTransparency = 1
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
closeBtn.TextSize = 18
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = buttonContainer

-- Bot√£o Ajuda
local helpBtn = Instance.new("TextButton")
helpBtn.Size = UDim2.new(0, 30, 1, 0)
helpBtn.Position = UDim2.new(0, 90, 0, 0)
helpBtn.BackgroundTransparency = 1
helpBtn.Text = "?"
helpBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
helpBtn.TextSize = 20
helpBtn.Font = Enum.Font.GothamBold
helpBtn.Parent = buttonContainer

-- Container das Tabs
local tabContainer = Instance.new("Frame")
tabContainer.Size = UDim2.new(1, 0, 0, 40)
tabContainer.Position = UDim2.new(0, 0, 0, 45)
tabContainer.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
tabContainer.BorderSizePixel = 0
tabContainer.Parent = mainFrame

-- √Årea de Conte√∫do
local contentArea = Instance.new("ScrollingFrame")
contentArea.Name = "ContentArea"
contentArea.Size = UDim2.new(1, -20, 1, -105)
contentArea.Position = UDim2.new(0, 10, 0, 90)
contentArea.BackgroundTransparency = 1
contentArea.BorderSizePixel = 0
contentArea.ScrollBarThickness = 4
contentArea.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
contentArea.CanvasSize = UDim2.new(0, 0, 0, 0)
contentArea.Parent = mainFrame

-- ==================== VARI√ÅVEIS GLOBAIS ====================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Estados das fun√ß√µes
local functions = {
    autoGun = false,
    killAll = false,
    espMurder = false,
    espSheriff = false,
    espInnocent = false,
    autoCollect = false,
    wallhack = false,
    autoShoot = false,
    teleportLobby = false
}

-- ==================== FUN√á√ïES DE DRAG ====================

local dragging = false
local dragStart
local startPos

topBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

topBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging then
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end
end)

-- ==================== FUN√á√ïES DOS BOT√ïES ====================

-- Fechar
closeBtn.MouseButton1Click:Connect(function() screenGui:Destroy() end)
closeBtn.TouchTap:Connect(function() screenGui:Destroy() end)

-- Minimizar/Maximizar
local minimized = false
local originalSize = mainFrame.Size
local minimizedSize = UDim2.new(0, 500, 0, 45)

minBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame:TweenSize(minimizedSize, "Out", "Quad", 0.2, true)
        minBtn.Text = "+"
        contentArea.Visible = false
        tabContainer.Visible = false
    else
        mainFrame:TweenSize(originalSize, "Out", "Quad", 0.2, true)
        minBtn.Text = "‚àí"
        contentArea.Visible = true
        tabContainer.Visible = true
    end
end)

-- Config
configBtn.MouseButton1Click:Connect(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Configura√ß√µes - Em breve!",
        Duration = 2,
        Button1 = "OK"
    })
end)

-- Ajuda
helpBtn.MouseButton1Click:Connect(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB - MM2",
        Text = "Features:\n‚Ä¢ Auto Gun\n‚Ä¢ Kill All\n‚Ä¢ ESP (Murder/Sheriff/Innocent)\n‚Ä¢ Auto Collect\n‚Ä¢ Wallhack\n‚Ä¢ Auto Shoot\n‚Ä¢ Teleportes",
        Duration = 5,
        Button1 = "OK"
    })
end)

-- ==================== FUN√á√ïES AUXILIARES ====================

-- Criar Bot√£o
local function CriarBotao(parent, texto, cor, callback)
    local yPos = #parent:GetChildren() * 45
    
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -10, 0, 40)
    btn.Position = UDim2.new(0, 5, 0, yPos)
    btn.BackgroundColor3 = cor or Color3.fromRGB(50, 50, 65)
    btn.Text = texto
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = parent
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn
    
    btn.MouseButton1Click:Connect(callback)
    btn.TouchTap:Connect(callback)
    
    return btn
end

-- Criar Toggle
local function CriarToggle(parent, texto, varName)
    local yPos = #parent:GetChildren() * 45
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, -10, 0, 40)
    frame.Position = UDim2.new(0, 5, 0, yPos)
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    frame.Parent = parent
    
    local frameCorner = Instance.new("UICorner")
    frameCorner.CornerRadius = UDim.new(0, 8)
    frameCorner.Parent = frame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0, 200, 1, 0)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = texto
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = frame
    
    local toggleBtn = Instance.new("TextButton")
    toggleBtn.Size = UDim2.new(0, 50, 0, 25)
    toggleBtn.Position = UDim2.new(1, -60, 0.5, -12)
    toggleBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 90)
    toggleBtn.Text = "OFF"
    toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleBtn.Font = Enum.Font.GothamBold
    toggleBtn.TextSize = 12
    toggleBtn.Parent = frame
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(0, 4)
    toggleCorner.Parent = toggleBtn
    
    toggleBtn.MouseButton1Click:Connect(function()
        functions[varName] = not functions[varName]
        toggleBtn.BackgroundColor3 = functions[varName] and Color3.fromRGB(100, 200, 100) or Color3.fromRGB(80, 80, 90)
        toggleBtn.Text = functions[varName] and "ON" or "OFF"
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "NCHUB",
            Text = texto .. " " .. (functions[varName] and "ativado" or "desativado"),
            Duration = 1,
            Button1 = "OK"
        })
    end)
    
    toggleBtn.TouchTap:Connect(function()
        functions[varName] = not functions[varName]
        toggleBtn.BackgroundColor3 = functions[varName] and Color3.fromRGB(100, 200, 100) or Color3.fromRGB(80, 80, 90)
        toggleBtn.Text = functions[varName] and "ON" or "OFF"
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "NCHUB",
            Text = texto .. " " .. (functions[varName] and "ativado" or "desativado"),
            Duration = 1,
            Button1 = "OK"
        })
    end)
    
    return frame
end

-- ==================== CRIAR TABS ====================

local tabs = {
    {name = "AUTO", icon = "‚ö°"},
    {name = "ESP", icon = "üëÅÔ∏è"},
    {name = "PLAYER", icon = "ü¶∏"},
    {name = "TELEPORT", icon = "üìç"},
    {name = "WALLHACK", icon = "üß±"},
    {name = "OUTROS", icon = "‚öôÔ∏è"}
}

local tabButtons = {}
local tabContents = {}

for i, tabData in ipairs(tabs) do
    local tabBtn = Instance.new("TextButton")
    tabBtn.Size = UDim2.new(0, 80, 1, 0)
    tabBtn.Position = UDim2.new(0, (i-1) * 85, 0, 0)
    tabBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    tabBtn.Text = tabData.icon .. " " .. tabData.name
    tabBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
    tabBtn.Font = Enum.Font.GothamBold
    tabBtn.TextSize = 13
    tabBtn.Parent = tabContainer
    
    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 8)
    tabCorner.Parent = tabBtn
    
    local tabContent = Instance.new("Frame")
    tabContent.Name = "Tab_" .. tabData.name
    tabContent.Size = UDim2.new(1, 0, 0, 0)
    tabContent.Position = UDim2.new(0, 0, 0, 0)
    tabContent.BackgroundTransparency = 1
    tabContent.Visible = false
    tabContent.Parent = contentArea
    tabContent.AutomaticSize = Enum.AutomaticSize.Y
    
    tabButtons[i] = tabBtn
    tabContents[tabData.name] = tabContent
    
    tabBtn.MouseButton1Click:Connect(function()
        for _, btn in ipairs(tabButtons) do
            btn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
        end
        for _, content in pairs(tabContents) do
            content.Visible = false
        end
        
        tabBtn.BackgroundColor3 = Color3.fromRGB(75, 75, 95)
        tabContents[tabData.name].Visible = true
        contentArea.CanvasSize = UDim2.new(0, 0, 0, tabContents[tabData.name].AbsoluteSize.Y + 20)
    end)
    
    tabBtn.TouchTap:Connect(function()
        for _, btn in ipairs(tabButtons) do
            btn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
        end
        for _, content in pairs(tabContents) do
            content.Visible = false
        end
        
        tabBtn.BackgroundColor3 = Color3.fromRGB(75, 75, 95)
        tabContents[tabData.name].Visible = true
        contentArea.CanvasSize = UDim2.new(0, 0, 0, tabContents[tabData.name].AbsoluteSize.Y + 20)
    end)
end

-- ==================== PREENCHER TABS ====================

-- Tab AUTO
CriarBotao(tabContents["AUTO"], "üî´ AUTO PEGAR GUN", Color3.fromRGB(50, 150, 200), function()
    print("Auto Gun ativado")
    functions.autoGun = not functions.autoGun
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Auto Gun " .. (functions.autoGun and "ativado" or "desativado"),
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["AUTO"], "üíÄ KILL ALL", Color3.fromRGB(200, 50, 50), function()
    print("Kill All executado")
    functions.killAll = not functions.killAll
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Kill All " .. (functions.killAll and "ativado" or "desativado"),
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["AUTO"], "üí∞ AUTO COLETAR MOEDAS", Color3.fromRGB(50, 200, 50), function()
    print("Auto Coletar ativado")
    functions.autoCollect = not functions.autoCollect
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Auto Coletar " .. (functions.autoCollect and "ativado" or "desativado"),
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["AUTO"], "üî´ AUTO SHOT MURDER", Color3.fromRGB(200, 100, 50), function()
    print("Auto Shot Murder ativado")
    functions.autoShoot = not functions.autoShoot
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Auto Shot " .. (functions.autoShoot and "ativado" or "desativado"),
        Duration = 2,
        Button1 = "OK"
    })
end)

-- Tab ESP
CriarToggle(tabContents["ESP"], "üî¥ ESP MURDER", "espMurder")
CriarToggle(tabContents["ESP"], "üîµ ESP XERIFE", "espSheriff")
CriarToggle(tabContents["ESP"], "üü¢ ESP INOCENTES", "espInnocent")

-- Tab PLAYER
CriarBotao(tabContents["PLAYER"], "üïäÔ∏è ATIVAR FLY", Color3.fromRGB(100, 100, 200), function()
    print("Fly ativado")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Fly ativado (l√≥gica aqui)",
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["PLAYER"], "üëª ATIVAR NOCLIP", Color3.fromRGB(150, 50, 150), function()
    print("Noclip ativado")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Noclip ativado (l√≥gica aqui)",
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["PLAYER"], "‚òÅÔ∏è INFINITE JUMP", Color3.fromRGB(50, 150, 150), function()
    print("Infinite Jump ativado")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Infinite Jump ativado (l√≥gica aqui)",
        Duration = 2,
        Button1 = "OK"
    })
end)

-- Tab TELEPORT
CriarBotao(tabContents["TELEPORT"], "üè† TELEPORT LOBBY", Color3.fromRGB(200, 150, 50), function()
    print("Teleportando pro Lobby")
    functions.teleportLobby = true
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Teleportando pro Lobby...",
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["TELEPORT"], "üó∫Ô∏è TELEPORT MAPA", Color3.fromRGB(150, 200, 50), function()
    print("Teleportando pro Mapa")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Teleportando pro Mapa...",
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["TELEPORT"], "üî´ TELEPORT ARMA", Color3.fromRGB(50, 200, 200), function()
    print("Teleportando pra arma")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Teleportando pra arma...",
        Duration = 2,
        Button1 = "OK"
    })
end)

-- Tab WALLHACK
CriarToggle(tabContents["WALLHACK"], "üß± PAREDES SEMI INVIS√çVEIS", "wallhack")

-- Tab OUTROS
CriarBotao(tabContents["OUTROS"], "üí° FULL BRIGHT", Color3.fromRGB(200, 200, 50), function()
    print("Full Bright ativado")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Full Bright ativado",
        Duration = 2,
        Button1 = "OK"
    })
end)

CriarBotao(tabContents["OUTROS"], "üí§ ANTI AFK", Color3.fromRGB(100, 100, 100), function()
    print("Anti AFK ativado")
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "NCHUB",
        Text = "Anti AFK ativado",
        Duration = 2,
        Button1 = "OK"
    })
end)

-- Selecionar primeira tab por padr√£o
if tabButtons[1] then
    tabButtons[1].BackgroundColor3 = Color3.fromRGB(75, 75, 95)
    tabContents["AUTO"].Visible = true
end

-- Atualizar canvas size
contentArea.CanvasSize = UDim2.new(0, 0, 0, tabContents["AUTO"].AbsoluteSize.Y + 20)

-- ==================== LOOPS DAS FUN√á√ïES ====================

-- Loop principal (aqui voc√™ coloca a l√≥gica real de cada fun√ß√£o)
RunService.Heartbeat:Connect(function()
    -- ESP Murder
    if functions.espMurder then
        -- L√≥gica do ESP Murder
    end
    
    -- ESP Sheriff
    if functions.espSheriff then
        -- L√≥gica do ESP Sheriff
    end
    
    -- ESP Inocente
    if functions.espInnocent then
        -- L√≥gica do ESP Inocente
    end
    
    -- Auto Coletar Moedas
    if functions.autoCollect then
        -- L√≥gica do Auto Coletar
    end
    
    -- Wallhack
    if functions.wallhack then
        -- L√≥gica do Wallhack (tornar paredes transparentes)
    end
    
    -- Auto Shot
    if functions.autoShoot then
        -- L√≥gica do Auto Shot
    end
end)

print("‚úÖ NCHUB - MM2 carregado com sucesso!")
