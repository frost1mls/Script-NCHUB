-- NCHUB - Biblioteca Personaliz√°vel (Minimizar reduz o GUI todo)
-- Top bar com tudo, conte√∫do livre embaixo
-- SUA BIBLIOTECA 100% PRESERVADA + FUN√á√ïES REAIS

-- Criar tela
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NCHUB"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Tela de carregamento
local loadingFrame = Instance.new("Frame")
loadingFrame.Name = "Loading"
loadingFrame.Size = UDim2.new(0, 150, 0, 70)
loadingFrame.Position = UDim2.new(0.5, -75, 0.5, -35)
loadingFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
loadingFrame.BackgroundTransparency = 0.1
loadingFrame.BorderSizePixel = 0
loadingFrame.Parent = screenGui
loadingFrame.ZIndex = 10

local loadingCorner = Instance.new("UICorner")
loadingCorner.CornerRadius = UDim.new(0, 12)
loadingCorner.Parent = loadingFrame

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 1, 0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "NCHUB"
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.Font = Enum.Font.GothamBold
loadingText.TextSize = 28
loadingText.Parent = loadingFrame

-- Aguardar 2 segundos
task.wait(2)

loadingFrame:TweenPosition(UDim2.new(0.5, -75, 1.5, 0), "Out", "Quad", 0.5, true)
task.wait(0.5)
loadingFrame:Destroy()

-- GUI Principal
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 420, 0, 340)
mainFrame.Position = UDim2.new(0.5, -210, 0.5, -170)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 28)
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 16)
mainCorner.Parent = mainFrame

-- TOP BAR
local topBar = Instance.new("Frame")
topBar.Name = "TopBar"
topBar.Size = UDim2.new(1, 0, 0, 45)
topBar.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame

local topBarCorner = Instance.new("UICorner")
topBarCorner.CornerRadius = UDim.new(0, 16)
topBarCorner.Parent = topBar

-- Nome do Hub
local hubName = Instance.new("TextLabel")
hubName.Size = UDim2.new(0, 120, 1, 0)
hubName.Position = UDim2.new(0, 12, 0, 0)
hubName.BackgroundTransparency = 1
hubName.Text = "NCHUB"
hubName.TextColor3 = Color3.fromRGB(255, 255, 255)
hubName.Font = Enum.Font.GothamBold
hubName.TextSize = 18
hubName.TextXAlignment = Enum.TextXAlignment.Left
hubName.Parent = topBar

-- Container dos bot√µes
local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(0, 120, 1, 0)
buttonContainer.Position = UDim2.new(1, -130, 0, 0)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = topBar

-- Bot√£o Config
local configBtn = Instance.new("TextButton")
configBtn.Size = UDim2.new(0, 30, 1, 0)
configBtn.Position = UDim2.new(0, 0, 0, 0)
configBtn.BackgroundTransparency = 1
configBtn.Text = "‚öôÔ∏è"
configBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
configBtn.TextSize = 20
configBtn.Font = Enum.Font.Gotham
configBtn.Parent = buttonContainer

-- Bot√£o Minimizar/Maximizar
local minMaxBtn = Instance.new("TextButton")
minMaxBtn.Size = UDim2.new(0, 30, 1, 0)
minMaxBtn.Position = UDim2.new(0, 30, 0, 0)
minMaxBtn.BackgroundTransparency = 1
minMaxBtn.Text = "‚àí"
minMaxBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
minMaxBtn.TextSize = 24
minMaxBtn.Font = Enum.Font.GothamBold
minMaxBtn.Parent = buttonContainer

-- Bot√£o Fechar
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 1, 0)
closeBtn.Position = UDim2.new(0, 60, 0, 0)
closeBtn.BackgroundTransparency = 1
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
closeBtn.TextSize = 18
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = buttonContainer

-- Bot√£o Ajuda
local helpBtn = Instance.new("TextButton")
helpBtn.Size = UDim2.new(0, 30, 1, 0)
helpBtn.Position = UDim2.new(0, 90, 0, 0)
helpBtn.BackgroundTransparency = 1
helpBtn.Text = "?"
helpBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
helpBtn.TextSize = 20
helpBtn.Font = Enum.Font.GothamBold
helpBtn.Parent = buttonContainer

-- √Årea de Conte√∫do
local contentArea = Instance.new("ScrollingFrame")
contentArea.Name = "ContentArea"
contentArea.Size = UDim2.new(1, -20, 1, -60)
contentArea.Position = UDim2.new(0, 10, 0, 55)
contentArea.BackgroundTransparency = 1
contentArea.BorderSizePixel = 0
contentArea.ScrollBarThickness = 4
contentArea.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
contentArea.CanvasSize = UDim2.new(0, 0, 0, 150)
contentArea.Parent = mainFrame

-- Dragging
local dragging = false
local dragStart
local startPos

topBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
    end
end)

topBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging then
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end
end)

-- Fechar
closeBtn.MouseButton1Click:Connect(function() screenGui:Destroy() end)
closeBtn.TouchTap:Connect(function() screenGui:Destroy() end)

-- Minimizar/Maximizar
local minimized = false
local originalSize = mainFrame.Size
local minimizedSize = UDim2.new(0, 420, 0, 45)

minMaxBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame:TweenSize(minimizedSize, "Out", "Quad", 0.2, true)
        minMaxBtn.Text = "+"
        contentArea.Visible = false
    else
        mainFrame:TweenSize(originalSize, "Out", "Quad", 0.2, true)
        minMaxBtn.Text = "‚àí"
        contentArea.Visible = true
    end
end)

-- Config e Ajuda
configBtn.MouseButton1Click:Connect(function()
    print("Abrir configura√ß√µes")
end)

helpBtn.MouseButton1Click:Connect(function()
    print("Ajuda - NCHUB v1.0")
end)

-- Atualizar canvas size
local function UpdateCanvas()
    local height = 0
    for _, v in pairs(contentArea:GetChildren()) do
        if v:IsA("Frame") or v:IsA("TextButton") then
            height = height + v.Size.Y.Offset + 10
        elseif v:IsA("TextLabel") then
            height = height + v.Size.Y.Offset + 5
        end
    end
    contentArea.CanvasSize = UDim2.new(0, 0, 0, height + 20)
end

-- SUA BIBLIOTECA TERMINA AQUI, AGORA VAMOS ADICIONAR AS FUN√á√ïES REAIS

-- Primeiro, remover o placeholder
for _, v in pairs(contentArea:GetChildren()) do
    if v:IsA("TextLabel") and v.Text == "üì¶ NCHUB - Adicione seus elementos aqui" then
        v:Destroy()
    end
end

-- ========== VARI√ÅVEIS GLOBAIS ==========
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Estados das fun√ß√µes
local functions = {
    autoGun = false,
    autoCollect = false,
    autoShoot = false,
    killAll = false,
    espMurder = false,
    espSheriff = false,
    espInnocent = false,
    wallhack = false,
    fly = false,
    noclip = false,
    infiniteJump = false,
    antiAfk = false,
    fullBright = false
}

-- ========== FUN√á√ïES REAIS ==========

-- Fun√ß√£o para encontrar a arma no mapa
local function FindGun()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Tool") and (v.Name:lower():find("gun") or v.Name:lower():find("pistol") or v.Name:lower():find("revolver")) then
            return v
        end
    end
    return nil
end

-- Fun√ß√£o para encontrar todos os jogadores
local function GetPlayers()
    local players = {}
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            table.insert(players, player)
        end
    end
    return players
end

-- Fun√ß√£o para identificar o papel no MM2
local function GetPlayerRole(player)
    if not player or not player.Character then return "Innocent" end
    
    -- L√≥gica b√°sica (voc√™ pode melhorar)
    local character = player.Character
    if character:FindFirstChildWhichIsA("Tool") then
        local tool = character:FindFirstChildWhichIsA("Tool")
        if tool.Name:lower():find("knife") or tool.Name:lower():find("murder") then
            return "Murderer"
        elseif tool.Name:lower():find("gun") or tool.Name:lower():find("pistol") then
            return "Sheriff"
        end
    end
    return "Innocent"
end

-- ========== FUN√á√ïES DE A√á√ÉO ==========

-- Auto Pegar Gun com CFrame
local function AutoGunFunction()
    if not functions.autoGun then return end
    
    local gun = FindGun()
    if gun and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local character = LocalPlayer.Character
        local hrp = character.HumanoidRootPart
        
        -- CFrame suave para a arma
        local targetPos = gun.Position + Vector3.new(0, 3, 0)
        local distance = (targetPos - hrp.Position).Magnitude
        
        if distance < 10 then
            -- Se tiver perto, pega
            firetouchinterest(hrp, gun.Handle, 0)
            task.wait(0.1)
            firetouchinterest(hrp, gun.Handle, 1)
        else
            -- Teleport suave com CFrame
            local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local goal = {CFrame = CFrame.new(targetPos)}
            local tween = TweenService:Create(hrp, tweenInfo, goal)
            tween:Play()
        end
    end
end

-- Auto Coletar Moedas com CFrame
local function AutoCollectFunction()
    if not functions.autoCollect then return end
    
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Part") and (v.Name:lower():find("coin") or v.Name:lower():find("money")) then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = LocalPlayer.Character.HumanoidRootPart
                local distance = (v.Position - hrp.Position).Magnitude
                
                if distance < 10 then
                    firetouchinterest(hrp, v, 0)
                    task.wait(0.05)
                    firetouchinterest(hrp, v, 1)
                elseif distance < 50 then
                    -- Teleport suave para moeda
                    local tweenInfo = TweenInfo.new(distance/100, Enum.EasingStyle.Linear)
                    local goal = {CFrame = CFrame.new(v.Position + Vector3.new(0, 2, 0))}
                    local tween = TweenService:Create(hrp, tweenInfo, goal)
                    tween:Play()
                end
            end
            break
        end
    end
end

-- Kill All
local function KillAllFunction()
    if not functions.killAll then return end
    
    local myRole = GetPlayerRole(LocalPlayer)
    if myRole == "Murderer" then
        -- Se for Murderer, mata todos
        for _, player in pairs(GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                -- Teleport para o jogador
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    local hrp = LocalPlayer.Character.HumanoidRootPart
                    local targetPos = player.Character.HumanoidRootPart.Position + Vector3.new(0, 3, 0)
                    
                    hrp.CFrame = CFrame.new(targetPos)
                    task.wait(0.1)
                    
                    -- Mata
                    player.Character.Humanoid.Health = 0
                end
            end
        end
    end
end

-- ESP
local function ESPFunction()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local role = GetPlayerRole(player)
            
            -- S√≥ mostra se o ESP correspondente estiver ativo
            if (role == "Murderer" and functions.espMurder) or
               (role == "Sheriff" and functions.espSheriff) or
               (role == "Innocent" and functions.espInnocent) then
                
                -- Criar ESP se n√£o existir
                if not player.Character:FindFirstChild("ESP_Box") then
                    local esp = Instance.new("BoxHandleAdornment")
                    esp.Name = "ESP_Box"
                    esp.Size = Vector3.new(4, 6, 4)
                    esp.Color3 = role == "Murderer" and Color3.new(1, 0, 0) or
                                 role == "Sheriff" and Color3.new(0, 0, 1) or
                                 Color3.new(0, 1, 0)
                    esp.Transparency = 0.5
                    esp.ZIndex = 10
                    esp.AlwaysOnTop = true
                    esp.Adornee = player.Character
                    esp.Parent = player.Character
                end
            else
                -- Remover ESP se existir
                local esp = player.Character:FindFirstChild("ESP_Box")
                if esp then esp:Destroy() end
            end
        end
    end
end

-- Wallhack (paredes invis√≠veis)
local function WallhackFunction()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("BasePart") and not v:IsA("Terrain") and v.Transparency < 0.5 then
            if functions.wallhack then
                if not v:FindFirstChild("OriginalTransparency") then
                    -- Salva transpar√™ncia original
                    local val = Instance.new("NumberValue")
                    val.Name = "OriginalTransparency"
                    val.Value = v.Transparency
                    val.Parent = v
                end
                v.Transparency = 0.8
            else
                -- Restaura transpar√™ncia original
                local val = v:FindFirstChild("OriginalTransparency")
                if val then
                    v.Transparency = val.Value
                    val:Destroy()
                end
            end
        end
    end
end

-- Fly
local function FlyFunction()
    local char = LocalPlayer.Character
    if not char then return end
    
    local hrp = char:FindFirstChild("HumanoidRootPart")
    local humanoid = char:FindFirstChildOfClass("Humanoid")
    
    if functions.fly then
        if not hrp:FindFirstChild("BodyVelocity") then
            local bv = Instance.new("BodyVelocity")
            bv.Name = "BodyVelocity"
            bv.Velocity = Vector3.new(0, 0, 0)
            bv.MaxForce = Vector3.new(4000, 4000, 4000)
            bv.P = 1250
            bv.Parent = hrp
            
            local bg = Instance.new("BodyGyro")
            bg.Name = "BodyGyro"
            bg.MaxTorque = Vector3.new(4000, 4000, 4000)
            bg.P = 1000
            bg.Parent = hrp
        end
    else
        local bv = hrp:FindFirstChild("BodyVelocity")
        local bg = hrp:FindFirstChild("BodyGyro")
        if bv then bv:Destroy() end
        if bg then bg:Destroy() end
    end
end

-- Noclip
local function NoclipFunction()
    local char = LocalPlayer.Character
    if not char then return end
    
    for _, v in pairs(char:GetDescendants()) do
        if v:IsA("BasePart") then
            v.CanCollide = not functions.noclip
        end
    end
end

-- Teleport Functions
local function TeleportToLobby()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        hrp.CFrame = CFrame.new(0, 50, 0) -- Posi√ß√£o do lobby
    end
end

local function TeleportToMap()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        hrp.CFrame = CFrame.new(100, 50, 100) -- Posi√ß√£o do mapa
    end
end

local function TeleportToGun()
    local gun = FindGun()
    if gun and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        hrp.CFrame = CFrame.new(gun.Position + Vector3.new(0, 3, 0))
    end
end

-- ========== FUN√á√ÉO PARA CRIAR BOT√ïES ==========
local function CriarBotao(texto, cor, callback)
    local yPos = #contentArea:GetChildren() * 42
    
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 35)
    btn.Position = UDim2.new(0, 10, 0, yPos)
    btn.BackgroundColor3 = cor or Color3.fromRGB(50, 50, 70)
    btn.Text = texto
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = contentArea
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn
    
    btn.MouseButton1Click:Connect(function()
        callback()
        -- Feedback visual
        btn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
        task.wait(0.1)
        btn.BackgroundColor3 = cor or Color3.fromRGB(50, 50, 70)
    end)
    
    return btn
end

local function CriarBotaoToggle(texto, cor, varName)
    local yPos = #contentArea:GetChildren() * 42
    
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 35)
    btn.Position = UDim2.new(0, 10, 0, yPos)
    btn.BackgroundColor3 = cor or Color3.fromRGB(50, 50, 70)
    btn.Text = texto .. " [OFF]"
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = contentArea
    
    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = btn
    
    btn.MouseButton1Click:Connect(function()
        functions[varName] = not functions[varName]
        if functions[varName] then
            btn.BackgroundColor3 = Color3.fromRGB(80, 180, 80)
            btn.Text = texto .. " [ON]"
        else
            btn.BackgroundColor3 = cor or Color3.fromRGB(50, 50, 70)
            btn.Text = texto .. " [OFF]"
        end
    end)
    
    return btn
end

-- ========== CRIAR OS BOT√ïES ==========

-- Se√ß√£o AUTO
local autoTitle = Instance.new("TextLabel")
autoTitle.Size = UDim2.new(1, -20, 0, 30)
autoTitle.Position = UDim2.new(0, 10, 0, 10)
autoTitle.BackgroundTransparency = 1
autoTitle.Text = "‚ö° AUTO"
autoTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
autoTitle.Font = Enum.Font.GothamBold
autoTitle.TextSize = 18
autoTitle.TextXAlignment = Enum.TextXAlignment.Left
autoTitle.Parent = contentArea

CriarBotaoToggle("üî´ Auto Pegar Gun", Color3.fromRGB(70, 130, 200), "autoGun")
CriarBotaoToggle("üí∞ Auto Coletar Moedas", Color3.fromRGB(70, 180, 70), "autoCollect")
CriarBotaoToggle("üíÄ Kill All", Color3.fromRGB(200, 50, 50), "killAll")

-- Se√ß√£o ESP
local espTitle = Instance.new("TextLabel")
espTitle.Size = UDim2.new(1, -20, 0, 30)
espTitle.Position = UDim2.new(0, 10, 0, 250)
espTitle.BackgroundTransparency = 1
espTitle.Text = "üëÅÔ∏è ESP"
espTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
espTitle.Font = Enum.Font.GothamBold
espTitle.TextSize = 18
espTitle.TextXAlignment = Enum.TextXAlignment.Left
espTitle.Parent = contentArea

CriarBotaoToggle("üî¥ ESP Murder", Color3.fromRGB(200, 50, 50), "espMurder")
CriarBotaoToggle("üîµ ESP Xerife", Color3.fromRGB(50, 100, 200), "espSheriff")
CriarBotaoToggle("üü¢ ESP Inocente", Color3.fromRGB(50, 200, 50), "espInnocent")
CriarBotaoToggle("üß± Wallhack", Color3.fromRGB(140, 70, 200), "wallhack")

-- Se√ß√£o PLAYER
local playerTitle = Instance.new("TextLabel")
playerTitle.Size = UDim2.new(1, -20, 0, 30)
playerTitle.Position = UDim2.new(0, 10, 0, 500)
playerTitle.BackgroundTransparency = 1
playerTitle.Text = "ü¶∏ PLAYER"
playerTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
playerTitle.Font = Enum.Font.GothamBold
playerTitle.TextSize = 18
playerTitle.TextXAlignment = Enum.TextXAlignment.Left
playerTitle.Parent = contentArea

CriarBotaoToggle("üïäÔ∏è Fly", Color3.fromRGB(100, 150, 200), "fly")
CriarBotaoToggle("üëª Noclip", Color3.fromRGB(150, 50, 150), "noclip")
CriarBotaoToggle("‚òÅÔ∏è Infinite Jump", Color3.fromRGB(50, 150, 150), "infiniteJump")
CriarBotaoToggle("üí§ Anti AFK", Color3.fromRGB(100, 100, 100), "antiAfk")
CriarBotaoToggle("üí° Full Bright", Color3.fromRGB(200, 200, 50), "fullBright")

-- Se√ß√£o TELEPORT
local tpTitle = Instance.new("TextLabel")
tpTitle.Size = UDim2.new(1, -20, 0, 30)
tpTitle.Position = UDim2.new(0, 10, 0, 800)
tpTitle.BackgroundTransparency = 1
tpTitle.Text = "üìç TELEPORT"
tpTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
tpTitle.Font = Enum.Font.GothamBold
tpTitle.TextSize = 18
tpTitle.TextXAlignment = Enum.TextXAlignment.Left
tpTitle.Parent = contentArea

CriarBotao("üè† Teleport Lobby", Color3.fromRGB(200, 150, 50), TeleportToLobby)
CriarBotao("üó∫Ô∏è Teleport Mapa", Color3.fromRGB(150, 200, 50), TeleportToMap)
CriarBotao("üî´ Teleport Arma", Color3.fromRGB(50, 200, 200), TeleportToGun)

UpdateCanvas()

-- ========== LOOP PRINCIPAL ==========
RunService.Heartbeat:Connect(function()
    -- Auto Gun
    if functions.autoGun then
        AutoGunFunction()
    end
    
    -- Auto Collect
    if functions.autoCollect then
        AutoCollectFunction()
    end
    
    -- Kill All
    if functions.killAll then
        KillAllFunction()
    end
    
    -- ESP
    ESPFunction()
    
    -- Wallhack
    WallhackFunction()
    
    -- Fly
    FlyFunction()
    
    -- Noclip
    NoclipFunction()
    
    -- Full Bright
    if functions.fullBright then
        game.Lighting.Brightness = 2
        game.Lighting.Ambient = Color3.new(1, 1, 1)
    else
        game.Lighting.Brightness = 1
        game.Lighting.Ambient = Color3.new(0.5, 0.5, 0.5)
    end
end)

-- Anti AFK
LocalPlayer.Idled:Connect(function()
    if functions.antiAfk then
        local VirtualUser = game:GetService("VirtualUser")
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end
end)

-- Infinite Jump
UserInputService.JumpRequest:Connect(function()
    if functions.infiniteJump and LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid:ChangeState("Jumping")
        end
    end
end)

print("‚úÖ NCHUB - MM2 carregado com sucesso!")
